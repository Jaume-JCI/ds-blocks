---

title: Block utilities


keywords: fastai
sidebar: home_sidebar

summary: "Block utilities"
description: "Block utilities"
nb_path: "nbs/core.utils.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/core.utils.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Functions-for-loading-and-saving">Functions for loading and saving<a class="anchor-link" href="#Functions-for-loading-and-saving"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="save_csv" class="doc_header"><code>save_csv</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L32" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>save_csv</code>(<strong><code>df</code></strong>, <strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Save DataFrame `df` to csv file indicated in `path`.

Convenience function that uses the same signature
as joblib.dump, which is needed by `DataIO`.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="save_parquet" class="doc_header"><code>save_parquet</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L42" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>save_parquet</code>(<strong><code>df</code></strong>, <strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Save DataFrame `df` to parquet file indicated in `path`.

Convenience function that uses the same signature
as joblib.dump, which is needed by `DataIO`.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="save_multi_index_parquet" class="doc_header"><code>save_multi_index_parquet</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L52" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>save_multi_index_parquet</code>(<strong><code>df</code></strong>, <strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Save DataFrame `df` to multi-index parquet file indicated in `path`.

Convenience function that uses the same signature
as joblib.dump, which is needed by `DataIO`.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="save_keras_model" class="doc_header"><code>save_keras_model</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L63" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>save_keras_model</code>(<strong><code>model</code></strong>, <strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Save keras `model` to file indicated in `path`.

Convenience function that uses the same signature
as joblib.dump, which is needed by `DataIO`.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="save_csv_gz" class="doc_header"><code>save_csv_gz</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L73" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>save_csv_gz</code>(<strong><code>df</code></strong>, <strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Save DataFrame `df` to csv.gz file indicated in `path`.

Convenience function that uses the same signature
as joblib.dump, which is needed by `DataIO`.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="read_csv" class="doc_header"><code>read_csv</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L83" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>read_csv</code>(<strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Read DataFrame from csv file indicated in `path`.

Convenience function that uses the same signature
as joblib.load, which is needed by `DataIO`.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="read_csv_gz" class="doc_header"><code>read_csv_gz</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L93" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>read_csv_gz</code>(<strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Read DataFrame from csv.gz file indicated in `path`.

Convenience function that uses the same signature
as joblib.load, which is needed by `DataIO`.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="load_keras_model" class="doc_header"><code>load_keras_model</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L103" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>load_keras_model</code>(<strong><code>path</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataIO-class">DataIO class<a class="anchor-link" href="#DataIO-class"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="DataIO" class="doc_header"><code>class</code> <code>DataIO</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L108" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>DataIO</code>(<strong><code>component</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Subclasses-of-DataIO">Subclasses of DataIO<a class="anchor-link" href="#Subclasses-of-DataIO"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PandasIO" class="doc_header"><code>class</code> <code>PandasIO</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L390" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PandasIO</code>(<strong><code>result_file_extension</code></strong>=<em><code>'.parquet'</code></em>, <strong><code>result_load_func</code></strong>=<em><code>read_parquet</code></em>, <strong><code>result_save_func</code></strong>=<em><code>save_multi_index_parquet</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/core.utils.html#DataIO"><code>DataIO</code></a></p>
</blockquote>

<pre><code>Saves results in parquet format by default.

Results are supposed to be in Pandas DataFrame format.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PickleIO" class="doc_header"><code>class</code> <code>PickleIO</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L408" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PickleIO</code>(<strong><code>fitting_file_extension</code></strong>=<em><code>'.pk'</code></em>, <strong><code>fitting_load_func</code></strong>=<em><code>load</code></em>, <strong><code>fitting_save_func</code></strong>=<em><code>dump</code></em>, <strong><code>result_file_extension</code></strong>=<em><code>'.pk'</code></em>, <strong><code>result_load_func</code></strong>=<em><code>load</code></em>, <strong><code>result_save_func</code></strong>=<em><code>dump</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/core.utils.html#DataIO"><code>DataIO</code></a></p>
</blockquote>

<pre><code>DataIO that uses pickle format for saving / loading the estimator.

It does not restrict the format for saving / loading the result of
the transformation.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="NoSaverIO" class="doc_header"><code>class</code> <code>NoSaverIO</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L438" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>NoSaverIO</code>(<strong><code>fitting_load_func</code></strong>=<em><code>None</code></em>, <strong><code>fitting_save_func</code></strong>=<em><code>None</code></em>, <strong><code>result_load_func</code></strong>=<em><code>None</code></em>, <strong><code>result_save_func</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/core.utils.html#DataIO"><code>DataIO</code></a></p>
</blockquote>

<pre><code>DataIO that does not load or save anything.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Helper-class-for-showing-model-diagram-and-summary">Helper class for showing model diagram and summary<a class="anchor-link" href="#Helper-class-for-showing-model-diagram-and-summary"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ModelPlotter" class="doc_header"><code>class</code> <code>ModelPlotter</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L454" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>ModelPlotter</code>(<strong><code>component</code></strong>=<em><code>None</code></em>, <strong><code>diagram_node_name</code></strong>=<em><code>None</code></em>, <strong><code>diagram_edge_name</code></strong>=<em><code>''</code></em>, <strong><code>diagram_module_path</code></strong>=<em><code>''</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

<pre><code>Helper class that provides information about the component used for plotting the pipeline diagram.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="camel_to_snake" class="doc_header"><code>camel_to_snake</code><a href="https://github.com/Jaume-JCI/block_types/blob/main/block_types/core/utils.py#L502" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>camel_to_snake</code>(<strong><code>name</code></strong>)</p>
</blockquote>

<pre><code>Convert CamelCase to snake_case.

Used for converting classes names to file names where
the corresponding computation is stored:
    https://stackoverflow.com/questions/1175208/elegant-python-function-to-convert-camelcase-to-snake-case</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

</div>
 

