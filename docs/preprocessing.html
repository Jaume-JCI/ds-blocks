---

title: Preprocessing components


keywords: fastai
sidebar: home_sidebar

summary: "Preprocessing components like one hot encoder"
description: "Preprocessing components like one hot encoder"
nb_path: "nbs/blocks/preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/blocks/preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>2022-05-07 21:50:50.207801: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library &#39;libcudart.so.11.0&#39;; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /opt/intel/compilers_and_libraries_2018.1.163/linux/tbb/lib/intel64_lin/gcc4.7:/opt/intel/compilers_and_libraries_2018.1.163/linux/compiler/lib/intel64_lin:/opt/intel/compilers_and_libraries_2018.1.163/linux/mkl/lib/intel64_lin:/opt/intel/compilers_and_libraries_2018.1.163/linux/tbb/lib/intel64_lin/gcc4.7:/opt/intel/compilers_and_libraries_2018.1.163/linux/compiler/lib/intel64_lin:/opt/intel/compilers_and_libraries_2018.1.163/linux/mkl/lib/intel64_lin::/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64/:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64/
2022-05-07 21:50:50.207841: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="OneHotEncoder">OneHotEncoder<a class="anchor-link" href="#OneHotEncoder"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OneHotEncoder" class="doc_header"><code>class</code> <code>OneHotEncoder</code><a href="https://github.com/Jaume-JCI/ds-blocks/tree/main/dsblocks/blocks/preprocessing.py#L22" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>OneHotEncoder</code>(<strong><code>categories</code></strong>=<em><code>'auto'</code></em>, <strong><code>handle_unknown</code></strong>=<em><code>'ignore'</code></em>, <strong><code>dtype</code></strong>=<em><code>int</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/components.html#PandasComponent"><code>PandasComponent</code></a></p>
</blockquote>

<pre><code>Component that preserves the DataFrame format for incoming data and results.

This component also writes results in parquet format, by default.
See `PandasConverter` in `core.data_conversion` for details on the data
conversion performed.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Example-/-test">Example / test<a class="anchor-link" href="#Example-/-test"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="test_one_hot_encoder" class="doc_header"><code>test_one_hot_encoder</code><a href="https://github.com/Jaume-JCI/ds-blocks/tree/main/dsblocks/tests/blocks/test_preprocessing.py#L22" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>test_one_hot_encoder</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#@pytest.mark.reference_fails</span>
<span class="k">def</span> <span class="nf">test_one_hot_encoder</span> <span class="p">():</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x1&#39;</span><span class="p">:[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">],</span>
                   <span class="s1">&#39;x2&#39;</span><span class="p">:[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;f&#39;</span><span class="p">],</span>
                  <span class="p">})</span>
    <span class="n">one_hot_encoder</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">],[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">]])</span>
    <span class="n">dfr</span> <span class="o">=</span> <span class="n">one_hot_encoder</span><span class="o">.</span><span class="n">transform</span> <span class="p">(</span><span class="n">df</span><span class="p">)</span>

    <span class="c1"># show result</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;result:&#39;</span><span class="p">)</span>
    <span class="n">display</span> <span class="p">(</span><span class="n">dfr</span><span class="p">)</span>

    <span class="c1"># compare against pd.get_dummies, removing last column corresponding to category &#39;f&#39;</span>
    <span class="n">df_dummies</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span> <span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> 
    <span class="k">assert</span> <span class="p">(</span><span class="n">dfr</span><span class="o">==</span><span class="n">df_dummies</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># test categories=&#39;auto&#39;</span>
    <span class="n">one_hot_encoder</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>

    <span class="c1"># 1.- if categories=&#39;auto&#39;, we must call fit  before calling transform:</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
        <span class="n">dfr</span> <span class="o">=</span> <span class="n">one_hot_encoder</span><span class="o">.</span><span class="n">transform</span> <span class="p">(</span><span class="n">df</span><span class="p">)</span>

    <span class="c1"># test that &#39;auto&#39; returns the same as pd.get_dummies</span>
    <span class="n">dfr</span> <span class="o">=</span> <span class="n">one_hot_encoder</span><span class="o">.</span><span class="n">fit_transform</span> <span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;result:&#39;</span><span class="p">);</span> <span class="n">display</span><span class="p">(</span><span class="n">dfr</span><span class="p">)</span>
    <span class="k">assert</span> <span class="p">(</span><span class="n">dfr</span><span class="o">==</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span> <span class="p">(</span><span class="n">df</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tst</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">test_one_hot_encoder</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;dummy&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>running test_one_hot_encoder
result:
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea "><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x1_a</th>
      <th>x1_b</th>
      <th>x2_c</th>
      <th>x2_d</th>
      <th>x2_e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>result:
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea "><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x1_a</th>
      <th>x1_b</th>
      <th>x2_c</th>
      <th>x2_d</th>
      <th>x2_e</th>
      <th>x2_f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="WindowGenerator">WindowGenerator<a class="anchor-link" href="#WindowGenerator"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Windows transformer for time-series that allows to easily select time windows that contain desired metadata. Currently, the implementation is especially conceived for anomaly detection, selecting windows that are "normal data" and that do not contain any nan. It also allows to easily plot any time window of interest, select a subset of variables, and do many other types of analysis based on the well-known DataFrame API.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="WindowGenerator" class="doc_header"><code>class</code> <code>WindowGenerator</code><a href="https://github.com/Jaume-JCI/ds-blocks/tree/main/dsblocks/blocks/preprocessing.py#L57" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>WindowGenerator</code>(<strong><code>sequence_length</code></strong>=<em><code>None</code></em>, <strong><code>sequence_stride</code></strong>=<em><code>None</code></em>, <strong><code>mixed_labels</code></strong>=<em><code>False</code></em>, <strong><code>sampling_interval</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/components.html#SamplingComponent"><code>SamplingComponent</code></a></p>
</blockquote>

<pre><code>Creates a DataFrame of time-ordered sliding windows extracted from an input time-series.

The input time-series is given as a DataFrame with N rows and D+1 columns, where N is
the number of observations (i.e., number of time-steps) and D is the number of variables
and there is an additional column for the ground-truth label.

The output DataFrame has one row per sliding window, and W*D+1 columns, where W is
the size of the sliding windows (or sequence length).

While not implemented at this moment, the WindowGenerator can use, in addition to
label information, other types of metadata attributes such as chiller ID. All this metadata
is handled the same way as we do with the label. In case of large missing gaps, the
DataFrame can implicitly be split into sections, where each section is contiguous
(i.e., without gaps). In this case, an additional column indicates the index of the section,
from 0 to S-1. This column is then treated as the other two metadata attributes (label
and chiller ID), making sure that sliding windows have only one value for each one of
these attributes (i.e, contains only normal or anomaly data but not both, contains data
from only one chiller, and contains data from only one section). See documentation for an
illustration.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Example-/-test">Example / test<a class="anchor-link" href="#Example-/-test"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="generate_input_for_window_generator" class="doc_header"><code>generate_input_for_window_generator</code><a href="https://github.com/Jaume-JCI/ds-blocks/tree/main/dsblocks/tests/blocks/test_preprocessing.py#L50" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>generate_input_for_window_generator</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">generate_input_for_window_generator</span> <span class="p">():</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span> <span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2022-01-14&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2022-01-18&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="o">.</span><span class="n">to_timestamp</span> <span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;label&#39;</span><span class="p">])</span>
    <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;timestamp&#39;</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;2022-01-15&#39;</span> <span class="o">&lt;=</span> <span class="n">index</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="s1">&#39;2022-01-16&#39;</span><span class="p">),</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;2022-01-15&#39;</span> <span class="o">&lt;=</span> <span class="n">index</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="s1">&#39;2022-01-16&#39;</span><span class="p">),</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="s1">&#39;2022-01-15&#39;</span> <span class="o">&lt;=</span> <span class="n">index</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">index</span> <span class="o">&lt;</span> <span class="s1">&#39;2022-01-16&#39;</span><span class="p">),</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="test_window_generator" class="doc_header"><code>test_window_generator</code><a href="https://github.com/Jaume-JCI/ds-blocks/tree/main/dsblocks/tests/blocks/test_preprocessing.py#L64" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>test_window_generator</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#@pytest.mark.reference_fails</span>
<span class="k">def</span> <span class="nf">test_window_generator</span> <span class="p">():</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">generate_input_for_window_generator</span> <span class="p">()</span>
    <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

    <span class="n">window_generator</span> <span class="o">=</span> <span class="n">WindowGenerator</span><span class="p">(</span><span class="n">sequence_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sequence_stride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sampling_interval</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">window_data</span> <span class="o">=</span> <span class="n">window_generator</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">window_data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="k">assert</span> <span class="n">window_data</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">91</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

    <span class="k">assert</span> <span class="nb">list</span><span class="p">(</span><span class="n">window_data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">==</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)]</span>

    <span class="k">assert</span> <span class="p">(</span><span class="n">window_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2022-01-14 01:00:00&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">==</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span>  <span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="n">df_plot</span> <span class="o">=</span> <span class="n">window_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2022-01-15 00:00:00&#39;</span><span class="p">:</span><span class="s1">&#39;2022-01-15 02:00:00&#39;</span><span class="p">]</span>
    <span class="n">window_generator</span><span class="o">.</span><span class="n">plot</span> <span class="p">(</span><span class="n">df_plot</span><span class="p">,[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
    <span class="c1">#display (&#39;new plot&#39;)</span>
    <span class="c1">#window_generator.plot (df_plot, title=&#39;new window&#39;, lw=3)</span>

    <span class="n">windows_of_interest</span> <span class="o">=</span> <span class="n">window_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2022-01-14 00:00:00&#39;</span><span class="p">:</span><span class="s1">&#39;2022-01-16 00:00:00&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]]</span>
    <span class="n">df_d</span> <span class="o">=</span> <span class="n">window_generator</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">windows_of_interest</span><span class="p">)</span>

    <span class="n">display</span><span class="p">(</span><span class="n">df_d</span><span class="p">)</span>

    <span class="k">assert</span> <span class="mf">10.488</span> <span class="o">&lt;</span> <span class="n">df_d</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">10.49</span>
    <span class="k">assert</span> <span class="mf">0.5017</span> <span class="o">&lt;</span> <span class="n">df_d</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.5018</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tst</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">test_window_generator</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;dummy&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>running test_window_generator
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea "><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th colspan="3" halign="left">a</th>
      <th colspan="3" halign="left">b</th>
      <th>label</th>
    </tr>
    <tr>
      <th></th>
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th></th>
    </tr>
    <tr>
      <th>start</th>
      <th>end</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-01-14 00:00:00</th>
      <th>2022-01-14 02:00:00</th>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>20</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-14 01:00:00</th>
      <th>2022-01-14 03:00:00</th>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>20</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-14 02:00:00</th>
      <th>2022-01-14 04:00:00</th>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>20</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-14 03:00:00</th>
      <th>2022-01-14 05:00:00</th>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>20</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2022-01-14 04:00:00</th>
      <th>2022-01-14 06:00:00</th>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>20</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea "><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>135.000000</td>
      <td>135.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>10.488889</td>
      <td>20.488889</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.501738</td>
      <td>0.501738</td>
    </tr>
    <tr>
      <th>min</th>
      <td>10.000000</td>
      <td>20.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>10.000000</td>
      <td>20.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>10.000000</td>
      <td>20.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>11.000000</td>
      <td>21.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>11.000000</td>
      <td>21.000000</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="WindowAggregator">WindowAggregator<a class="anchor-link" href="#WindowAggregator"> </a></h2><p>This class produces the the inverse transform of the <a href="/preprocessing.html#WindowGenerator"><code>WindowGenerator</code></a>class. In other words, when applied to the result of <a href="/preprocessing.html#WindowGenerator"><code>WindowGenerator</code></a>, we obtain the original time-series.</p>
<p>This class can be useful for aggregating the windowed data after it has been transformed by other components in the pipeline, so that we get back the same type of time-series we had at the beginning, but with all the transformations applied to it.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="WindowAggregator" class="doc_header"><code>class</code> <code>WindowAggregator</code><a href="https://github.com/Jaume-JCI/ds-blocks/tree/main/dsblocks/blocks/preprocessing.py#L203" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>WindowAggregator</code>(<strong><code>sequence_length</code></strong>=<em><code>None</code></em>, <strong><code>sequence_stride</code></strong>=<em><code>None</code></em>, <strong><code>sampling_interval</code></strong>=<em><code>None</code></em>, <strong><code>mixed_labels</code></strong>=<em><code>False</code></em>, <strong>**<code>kwargs</code></strong>) :: <a href="/components.html#SamplingComponent"><code>SamplingComponent</code></a></p>
</blockquote>

<pre><code>This class produces the the inverse transform of the WindowGeneratorclass.

In other words, when applied to the result of WindowGenerator, we obtain the
original time-series.

This class can be useful for aggregating the windowed data after it has been
transformed by other components in the pipeline, so that we get back the same
type of time-series we had at the beginning, but with all the transformations
applied to it. For instance it can be used to unroll the error signal coming
out of the ResidualComputer. In principle, the aggregation can use different
statistics, although currently we only allow the mean operator, which obtains
the inverse transform.</code></pre>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Example-/-test">Example / test<a class="anchor-link" href="#Example-/-test"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="test_window_aggregator" class="doc_header"><code>test_window_aggregator</code><a href="https://github.com/Jaume-JCI/ds-blocks/tree/main/dsblocks/tests/blocks/test_preprocessing.py#L93" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>test_window_aggregator</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#@pytest.mark.reference_fails</span>
<span class="k">def</span> <span class="nf">test_window_aggregator</span> <span class="p">():</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">generate_input_for_window_generator</span> <span class="p">()</span>
    <span class="n">window_generator</span> <span class="o">=</span> <span class="n">WindowGenerator</span><span class="p">(</span><span class="n">sequence_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sequence_stride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sampling_interval</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">window_data</span> <span class="o">=</span> <span class="n">window_generator</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="n">window_aggregator</span> <span class="o">=</span> <span class="n">WindowAggregator</span> <span class="p">(</span><span class="n">sequence_length</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sequence_stride</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sampling_interval</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">df2</span> <span class="o">=</span> <span class="n">window_aggregator</span><span class="o">.</span><span class="n">transform</span> <span class="p">(</span><span class="n">window_data</span><span class="p">)</span>
    <span class="k">assert</span> <span class="p">(</span><span class="n">df</span><span class="o">==</span><span class="n">df2</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">==</span><span class="n">df2</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tst</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">test_window_aggregator</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;dummy&#39;</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>


